{"ast":null,"code":"import { authConstants } from \"../constants\";\nimport { history } from \"../helpers/history\";\nimport { authService } from \"../services\";\nexport const authActions = {\n  login,\n  logout\n};\n\nfunction login(username, password) {\n  return dispatch => {\n    dispatch(request(username));\n    authService.login(username, password).then(response => {\n      dispatch(success(response.user));\n      history.push('/');\n    }).catch(error => {\n      if (error.response) {\n        dispatch(failure(error.response.data.message || error.response.statusText));\n      } else {\n        dispatch(failure(error));\n      }\n    });\n  };\n\n  function request(user) {\n    return {\n      type: authConstants.LOGIN_REQUEST,\n      user\n    };\n  }\n\n  function success(user) {\n    return {\n      type: authConstants.LOGIN_SUCCESS,\n      user\n    };\n  }\n\n  function failure(error) {\n    return {\n      type: authConstants.LOGIN_FAILURE,\n      error\n    };\n  }\n}\n\nfunction logout() {\n  authService.logout();\n  return {\n    type: authConstants.LOGOUT\n  };\n}","map":{"version":3,"sources":["C:/Users/jag/new-bus/seating-bus/frontend/src/actions/auth.js"],"names":["authConstants","history","authService","authActions","login","logout","username","password","dispatch","request","then","response","success","user","push","catch","error","failure","data","message","statusText","type","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE","LOGOUT"],"mappings":"AAAA,SAASA,aAAT,QAA8B,cAA9B;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACA,SAASC,WAAT,QAA4B,aAA5B;AAEA,OAAO,MAAMC,WAAW,GAAG;AACzBC,EAAAA,KADyB;AAEzBC,EAAAA;AAFyB,CAApB;;AAKP,SAASD,KAAT,CAAeE,QAAf,EAAyBC,QAAzB,EAAmC;AACjC,SAAQC,QAAD,IAAc;AACnBA,IAAAA,QAAQ,CAACC,OAAO,CAACH,QAAD,CAAR,CAAR;AACAJ,IAAAA,WAAW,CAACE,KAAZ,CAAkBE,QAAlB,EAA4BC,QAA5B,EAAsCG,IAAtC,CAA2CC,QAAQ,IAAI;AACnDH,MAAAA,QAAQ,CAACI,OAAO,CAACD,QAAQ,CAACE,IAAV,CAAR,CAAR;AACAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,GAAb;AACH,KAHD,EAICC,KAJD,CAIOC,KAAK,IAAI;AACZ,UAAGA,KAAK,CAACL,QAAT,EAAkB;AACdH,QAAAA,QAAQ,CAACS,OAAO,CAACD,KAAK,CAACL,QAAN,CAAeO,IAAf,CAAoBC,OAApB,IAA+BH,KAAK,CAACL,QAAN,CAAeS,UAA/C,CAAR,CAAR;AACH,OAFD,MAGI;AACAZ,QAAAA,QAAQ,CAACS,OAAO,CAACD,KAAD,CAAR,CAAR;AACH;AACJ,KAXD;AAYD,GAdD;;AAgBA,WAASP,OAAT,CAAiBI,IAAjB,EAAuB;AACrB,WAAO;AAAEQ,MAAAA,IAAI,EAAErB,aAAa,CAACsB,aAAtB;AAAqCT,MAAAA;AAArC,KAAP;AACD;;AACD,WAASD,OAAT,CAAiBC,IAAjB,EAAuB;AACrB,WAAO;AAAEQ,MAAAA,IAAI,EAAErB,aAAa,CAACuB,aAAtB;AAAqCV,MAAAA;AAArC,KAAP;AACD;;AACD,WAASI,OAAT,CAAiBD,KAAjB,EAAwB;AACtB,WAAO;AAAEK,MAAAA,IAAI,EAAErB,aAAa,CAACwB,aAAtB;AAAqCR,MAAAA;AAArC,KAAP;AACD;AACF;;AAED,SAASX,MAAT,GAAkB;AAChBH,EAAAA,WAAW,CAACG,MAAZ;AACA,SAAO;AAAEgB,IAAAA,IAAI,EAAErB,aAAa,CAACyB;AAAtB,GAAP;AACD","sourcesContent":["import { authConstants } from \"../constants\";\r\nimport { history } from \"../helpers/history\";\r\nimport { authService } from \"../services\";\r\n\r\nexport const authActions = {\r\n  login,\r\n  logout,\r\n};\r\n\r\nfunction login(username, password) {\r\n  return (dispatch) => {\r\n    dispatch(request(username));\r\n    authService.login(username, password).then(response => {\r\n        dispatch(success(response.user));\r\n        history.push('/');\r\n    })\r\n    .catch(error => {\r\n        if(error.response){\r\n            dispatch(failure(error.response.data.message || error.response.statusText));\r\n        }\r\n        else{\r\n            dispatch(failure(error))\r\n        }\r\n    });\r\n  };\r\n\r\n  function request(user) {\r\n    return { type: authConstants.LOGIN_REQUEST, user };\r\n  }\r\n  function success(user) {\r\n    return { type: authConstants.LOGIN_SUCCESS, user };\r\n  }\r\n  function failure(error) {\r\n    return { type: authConstants.LOGIN_FAILURE, error };\r\n  }\r\n}\r\n\r\nfunction logout() {\r\n  authService.logout();\r\n  return { type: authConstants.LOGOUT };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}